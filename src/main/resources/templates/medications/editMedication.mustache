<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Edit Medication</title>
    <link rel="stylesheet" href="/css/styles.css"> </head>
<body>
<h1>Edit Medication</h1>


<form action="/medications/update" method="post" enctype="multipart/form-data">
    <input type="hidden" name="id" value="{{medication.id}}">

    <div>
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" value="{{medication.name}}" required>
    </div>
    <div>
        <label for="stock">Stock:</label>
        <input type="number" id="stock" name="stock" value="{{medication.stock}}" step="any" required>
    </div>
    <div>
        <label for="instructions">Instructions:</label>
        <textarea id="instructions" name="instructions" required>{{medication.instructions}}</textarea>
    </div>
    <div>
        <label for="dose">Dose:</label>
        <input type="number" id="dose" name="dose" value="{{medication.dose}}" step="any" required>
    </div>

    {{#medication.imagenPath}}
        <div>
            <p><strong>Current Image:</strong></p>
            <img src="{{medication.imagenPath}}" alt="Current Medication Image" class="detail-image"> <br>
            <input type="checkbox" id="deleteExistingImage" name="deleteExistingImage" value="true">
            <label for="deleteExistingImage">Delete current image</label>
            <br><br>
        </div>
    {{/medication.imagenPath}}
    {{^medication.imagenPath}}
        <div>
            <p>No current image.</p>
        </div>
    {{/medication.imagenPath}}

    <div>
        <label for="imagenFile">Upload New Image (optional):</label>
        <input type="file" id="imagenFile" name="imagenFile" accept="image/*">
        <p><small>Leave blank to keep current image or delete it with the checkbox above.</small></p>
    </div>
    <div>
        <button type="submit">Update Medication</button>
    </div>
</form>
<br>
<a href="/medications/list">Back to List</a> |
<a href="/medications/{{medication.id}}">View Details</a>
</body>
</html>
